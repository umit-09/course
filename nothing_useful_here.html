<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">

    <script src="nothing_useful_here.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>

    <title>Optifine CIT Generator</title>
    <style>
        .center {
            text-align: center;
        }

        body {
            font-family: quicksand;
            font-size: 20px;
            font-weight: bold;
        }

        .label {
            display: flex;
            flex-direction: colum;
            display: inline-block;
            width: 50%;
            text-align: right;
        }

        .input{
            width: 240px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: quicksand;
        }
        select{
            width: 100px;
            padding: 5px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: quicksand;
        }

        .input::placeholder {
            color: grey;
        }

        .button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 40%;
            margin-top: 15px;
            font-family: quicksand;
        }

        .button:hover {
            background-color: #0056b3;
        }

        .textarea {
            width: 240px;
            height: 200px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            margin-top: 15px;
            font-family: quicksand;
        }

        .hr {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 510px;
        }
    </style>
</head>
<body id="body">
    <h1 class="center">Optifine CIT Generator</h1>

    <a href="https://github.com/sp614x/optifine/blob/master/OptiFineDoc/doc/cit_single.properties" style="text-decoration: none; margin: 0 auto; display:block; text-align: center; color:#f00;">open Optifine documentation</a>
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">filenames:</label>
    <input id="filenames" class="input" placeholder="filename1 # filename2 #...">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">type:</label>
    <input id="type" class="input" placeholder="item # enchantment # armor # elytra" title="
item:     Simple item texture replacement.  Applies to items in GUI, held
             in hand, and in the world.  If multiple properties files matc
             the same item, only the first (sorted by weight, then by
             filename) is used.

enchantment: Overlay texture for enchantments (replaces misc/glint.png). 
             If multiple properties files match the same item, they are blended
             together using rules specified in the global cit.properties
             file.

armor:   Armor texture replacement.  Applies to armor models worn by
             players and mobs.  If multiple properties files match the same
             item, only the first (sorted by weight, then by filename) is
             used.
             
elytra:   Elytra texture replacement.  Applies to elytra model worn by
             players and mobs.  If multiple properties files match the same
             item, only the first (sorted by weight, then by filename) is used.">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">items:</label>
    <input id="items" class="input" placeholder="minecraft:item1 # minecraft:item #...">

    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">texture:</label>
    <input id="texture" class="input" placeholder="./texture1 # ./texture2 #...">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">model:</label>
    <input id="model" class="input" placeholder="./model1 # ./model2 #...">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">damage:</label>
    <input id="damage" class="input" placeholder="0 - 65535 # 0 - 65535 #...">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">stackSize:</label>
    <input id="stackSize" class="input" placeholder="0 - 65535 # 0 - 65535 #...">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">enchantments:</label>
    <input id="enchantments" class="input" placeholder="minecraft:silk_touch sharpness smite">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">enchantmentLevels:</label>
    <input id="enchantmentLevels" class="input" placeholder="0 127 255">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">hand:</label>
    <input id="hand" class="input" placeholder="any # main # off">
    
    <hr class="hr" size="2", color="#c0c0c0">

    <label class="label">nbt:</label>

    <input id="nbt" class="input" placeholder="nbt.<tag>=<value>">
    
        <hr class="hr" size="2", color="#c0c0c0">

    <button id="generateButton" class="button">Generate Properties</button>

    <textarea id="propertiesText" class="textarea" readonly></textarea>

    <button id="saveButton" class="button">Save file/files</button>

    <script>
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.getElementById('body').style.display = 'none';
        }
    
        function splitAndTrimValues(inputValue) {
            return inputValue.split("#").map(value => value.trim());
        }
    
        function generateProperties() {
            const filenamesInput = document.getElementById("filenames").value;
            const filenames = splitAndTrimValues(filenamesInput);

            if (filenames.length === 0) {
                alert("Please enter at least one filename.");
                return;
            }

            const allProperties = [];

            const itemsInput = document.getElementById("items").value;
            const items = splitAndTrimValues(itemsInput);

            const damageInput = document.getElementById("damage").value;
            const damage = splitAndTrimValues(damageInput);

            const enchantmentsInput = document.getElementById("enchantments").value;
            const enchantments = splitAndTrimValues(enchantmentsInput);

            const enchantmentLevelsInput = document.getElementById("enchantmentLevels").value;
            const enchantmentLevels = splitAndTrimValues(enchantmentLevelsInput);

            const typeInput = document.getElementById("type").value;
            const type = splitAndTrimValues(typeInput);

            const handInput = document.getElementById("hand").value;
            const hand = splitAndTrimValues(handInput);

            const nbtInput = document.getElementById("nbt").value;
            const nbt = splitAndTrimValues(nbtInput);

            const modelInput = document.getElementById("model").value;
            const models = splitAndTrimValues(modelInput);

            const stackSizeInput = document.getElementById("stackSize").value;
            const stackSizes = splitAndTrimValues(stackSizeInput);

            for (let i = 0; i < filenames.length; i++) {
                const filename = filenames[i];
                const properties = [];

                if (typeInput[i]) properties.push(`type=${typeInput[i]}`);
                if (items[i]) properties.push(`items=${items[i]}`);
                if (models[i]) properties.push(`model=${models[i]}`);
                if (damage[i]) properties.push(`damage=${damage[i]}`);
                if (stackSizes[i]) properties.push(`stackSize=${stackSizes[i]}`);
                if (enchantments[i]) properties.push(`enchantments=${enchantments[i]}`);
                if (enchantmentLevels[i]) properties.push(`enchantmentLevels=${enchantmentLevels[i]}`);
                if (handInput[i]) properties.push(`hand=${handInput[i]}`);
                if (nbtInput[i]) properties.push(nbtInput[i]);

                const propertiesText = properties.join("\n");
                allProperties.push(`${filename}.properties:\n${propertiesText}\n\n`);
            }

            document.getElementById("propertiesText").value = allProperties.join("");
        }
    
        function download() {
            const filenamesInput = document.getElementById("filenames").value;
            const filenames = splitAndTrimValues(filenamesInput);
    
            if (filenames.length === 0) {
                alert("Please enter at least one filename.");
                return;
            }
    
            for (const filename of filenames) {
                const propertiesForFile = generateProperties();
                addFile(`${filename}.properties`, propertiesForFile);
            }
    
            saveFile();
        }
    
        document.getElementById("generateButton").addEventListener("click", generateProperties);
        document.getElementById("saveButton").addEventListener("click", download);
    </script>
    
    
</body>
</html>
